<!DOCTYPE html>
<html lang="en" id="html">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1, maximum-scale=1,minimum-scale=0.5">
    <title>发现</title>
    <link rel="stylesheet" href="css/index.css">
    <script src="js/jquery-3.3.1.min.js"></script>
    <script src="js/hammer.js"></script>
</head>
<body id="body">
<div class="header">
    <ul>
        <li class="changecolor">特色</li>
        <li ontouchend="breakfast()">早餐</li>
        <li>午餐</li>
        <li>晚餐</li>
        <li>零食</li>
        <li>甜品</li>
    </ul>
</div>
<div class="main" id="main">
    <img class="banner" src="images/banner2.png" alt="">
    <div class="content">
        <div class="left img">
            <p>精选商品</p>
            <img src="images/egg@3x.png" alt="">
        </div>
        <div class="right">
            <div class="cost">
                <span>澳大利亚进口，超级鲜鸡蛋</span>
                <p>￥20.68</p>
            </div>
            <p class="more">查看更多</p>
        </div>
    </div>
    <div class="content">
        <div class="left img">
            <p>精选商品</p>
            <img src="images/fruit@3x.png" alt="">
        </div>
        <div class="right">
            <div class="cost">
                <span>浓香水蜜桃</span>
                <p>￥25.68</p>
            </div>
            <p class="more">查看更多</p>
        </div>
    </div>
    <div class="content">
        <div class="left img">
            <p>精选商品</p>
            <img src="images/hamburger@3x.png" alt="">
        </div>
        <div class="right">
            <div class="cost">
                <span>美味汉堡</span>
                <p>￥5.68</p>
            </div>
            <p class="more">查看更多</p>
        </div>
    </div>
    <div class="motai">
        <div class="motai_content">
            <img src="" alt="">
            <span></span>
            <p></p>
        </div>
    </div>
</div>
</body>
<script>
    //获取设备屏幕宽度,设置根目录宽度和字体大小
    function screenwidth(){
        var html = document.getElementById('html');
        html.style.fontSize = window.screen.width+'px';
        var w=document.documentElement?document.documentElement.clientWidth :document.body.clientWidth ;
        html.style.fontSize = w/7.5 +'px';
    }
    screenwidth();
    //点击变颜色
    /*$('.header li').on('touchend',function(){
        $(this).addClass('changecolor').siblings().removeClass('changecolor');
    });*/
    $('.header li').on('touchstart',function(){
        $(this).addClass('btn-on');
    });
    $('.header li').on('touchend',function(){
        $(this).removeClass('btn-on');
    });
        /*btn.ontouchstart=function(){
            this.className="btn btn-on";
        }
        btn.ontouchend=function(){
            this.className="btn";
        }*/
    //跳转更多页面
    $('.more').on('touchend',function(){
        window.location.href='src/feature.html'
    });
    //跳转早餐页面
    function breakfast(){
        window.location.href='src/family.html'
    }
    //显示隐藏图片
    $('.motai').hide();
    $('.img').on('click',function(){
        var imgsrc = $(this).children('img').attr('src');
        var name = $(this).siblings('.right').children('.cost').children('span').text();
        var cost = $(this).siblings('.right').children('.cost').children('p').text();
        $('.motai').fadeIn();
        $('.motai_content img').attr('src',imgsrc);
        $('.motai_content span').text(name);
        $('.motai_content p').text(cost);

    });
    $('.motai').on('touchend',function(){
        $('.motai').fadeOut();
    });
    //向右滑动
    /*var el = document.getElementById('body');
    var hammer = new Hammer(el);
    hammer.on('pan',function(e){
        console.log(123);
        console.log(e);
        window.location.href='src/family.html';
    });*/
    var container = document.getElementById('main');
    var mc = new Hammer(container)
    mc.get('swipe').set({
        direction: Hammer.DIRECTION_ALL
    });
    mc.on('swipeleft', function (e) {
        console.log(1);
        console.log(e);
        window.location.href='src/family.html'
    });
    mc.on('swiperight', function (e) {
        console.log(2)
        console.log(e);
        window.location.href='src/family_foot.html'
    });
    /*mc.get('swipe').set({ direction: Hammer.DIRECTION_VERTICAL});*/
</script>
</html>
